<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Teleconsultation Dashboard Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- React + ReactDOM + React Router (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@remix-run/router@1.16.0/dist/router.umd.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-router@6.23.1/dist/umd/react-router.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-router-dom@6.23.1/dist/umd/react-router-dom.development.js"></script>
  <style>
    html, body, #root {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }
    .app-container {
      display: flex;
      height: 100%;
    }
    .sidebar {
      width: 220px;
      background-color: #2c3e50;
      color: #ecf0f1;
      display: flex;
      flex-direction: column;
    }
    .sidebar .logo {
      padding: 1rem;
      font-size: 1.3em;
      text-align: center;
      border-bottom: 1px solid #34495e;
    }
    .sidebar nav {
      flex-grow: 1;
    }
    .sidebar nav a {
      display: block;
      padding: 0.75rem 1rem;
      color: inherit;
      text-decoration: none;
    }
    .sidebar nav a:hover,
    .sidebar nav a.active {
      background-color: #34495e;
    }
    .main-content {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .header {
      height: 60px;
      background-color: #fff;
      border-bottom: 1px solid #ddd;
      display: flex;
      align-items: center;
      padding: 0 1rem;
    }
    .content-area {
      padding: 1rem;
      overflow-y: auto;
      background-color: #f5f5f5;
      flex-grow: 1;
    }
    .page h2 {
      margin-top: 0;
    }

    /* Booking form styles */
    .booking-form {
      background: white;
      padding: 1rem;
      max-width: 500px;
      margin-bottom: 2rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .booking-form label {
      display: block;
      margin-top: 0.75rem;
    }
    .booking-form input,
    .booking-form select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
    }
    .booking-form button {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background-color: #3498db;
      color: white;
      border: none;
      cursor: pointer;
    }
    .booking-form button:hover {
      background-color: #2980b9;
    }

    /* Payment mock */
    .payment-section {
      background: white;
      padding: 1rem;
      max-width: 500px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .payment-section input {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
    }
    .payment-section button {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background-color: #27ae60;
      color: white;
      border: none;
      cursor: pointer;
    }
    .payment-section button:hover {
      background-color: #1e8449;
    }

    .message {
      margin-top: 1rem;
      color: green;
    }

    /* Consultation section */
    .consult-section {
      background: white;
      padding: 1rem;
      max-width: 600px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .consult-section button {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background-color: #e67e22;
      color: white;
      border: none;
      cursor: pointer;
    }
    .consult-section button:hover {
      background-color: #d35400;
    }

    /* Settings */
    .settings-form {
      background: white;
      padding: 1rem;
      max-width: 500px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .settings-form label {
      display: block;
      margin-top: 0.75rem;
    }
    .settings-form input,
    .settings-form select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
    }
    .settings-form button {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background-color: #8e44ad;
      color: white;
      border: none;
      cursor: pointer;
    }
    .settings-form button:hover {
      background-color: #732d91;
    }

  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/javascript">
    const { BrowserRouter, Routes, Route, NavLink, Navigate } = ReactRouterDOM;
    const { useState, useEffect } = React;

    function Sidebar() {
      const paths = ['dashboard','booking','consultation','payments','settings'];
      return (
        React.createElement('div', { className: 'sidebar' },
          React.createElement('div', { className: 'logo' }, 'TeleDoc Dash'),
          React.createElement('nav', null,
            paths.map(path =>
              React.createElement(NavLink, {
                key: path,
                to: '/' + path,
                className: ({ isActive }) => isActive ? 'active' : ''
              }, path.charAt(0).toUpperCase() + path.slice(1))
            )
          )
        )
      );
    }

    function Header() {
      return React.createElement('div', { className: 'header' },
        React.createElement('h3', null, 'Admin Dashboard — Teleconsultation Platform')
      );
    }

    function DashboardPage() {
      return React.createElement('div', { className: 'page' },
        React.createElement('h2', null, 'Dashboard Overview'),
        React.createElement('p', null, 'Welcome! Use sidebar to manage bookings, consultations, payments, and system settings.')
      );
    }

    function BookingPage() {
      const [name, setName] = useState('');
      const [date, setDate] = useState('');
      const [slot, setSlot] = useState('');
      const [consultType, setConsultType] = useState('video');
      const [booked, setBooked] = useState(false);

      const handleBook = (ev) => {
        ev.preventDefault();
        // TODO: call backend API to create appointment
        setBooked(true);
      };

      return React.createElement('div', { className: 'page' },
        React.createElement('h2', null, 'Book Appointment'),
        React.createElement('form', { className: 'booking-form', onSubmit: handleBook },
          React.createElement('label', null, 'Patient Name:'),
          React.createElement('input', { type: 'text', value: name, onChange: (e)=>setName(e.target.value), required: true }),
          React.createElement('label', null, 'Date:'),
          React.createElement('input', { type: 'date', value: date, onChange: (e)=>setDate(e.target.value), required: true }),
          React.createElement('label', null, 'Slot:'),
          React.createElement('select', { value: slot, onChange: (e)=>setSlot(e.target.value), required: true },
            React.createElement('option', { value: '' }, '--Select Slot--'),
            React.createElement('option', { value: '09:00-10:00' }, '09:00 — 10:00'),
            React.createElement('option', { value: '10:00-11:00' }, '10:00 — 11:00'),
            React.createElement('option', { value: '11:00-12:00' }, '11:00 — 12:00')
          ),
          React.createElement('label', null, 'Consultation Type:'),
          React.createElement('select', { value: consultType, onChange: (e)=>setConsultType(e.target.value) },
            React.createElement('option', { value: 'video' }, 'Video Call'),
            React.createElement('option', { value: 'audio' }, 'Audio Call'),
            React.createElement('option', { value: 'chat' }, 'Chat Consultation')
          ),
          React.createElement('button', { type: 'submit' }, 'Book Appointment'),
          booked && React.createElement('div', { className: 'message' }, 'Appointment booked! Awaiting payment.')
        )
      );
    }

    function ConsultationPage() {
      const [isActive, setIsActive] = useState(false);
      const [type, setType] = useState('video');

      // For demo, simulate fetching the latest appointment
      useEffect(() => {
        // TODO: fetch appointment data from backend
        // e.g. setType('video' or 'audio' or 'chat') and setIsActive(true) accordingly
        // For demo, we assume there *is* a consultation
        setIsActive(true);
        setType('video');
      }, []);

      const startSession = () => {
        if (!isActive) {
          alert('No active consultation.');
          return;
        }
        alert(`Starting ${type} consultation session...`);
        // Here you’d integrate your real video/audio/chat SDK or logic
      };

      return React.createElement('div', { className: 'page' },
        React.createElement('h2', null, 'Consultation'),
        React.createElement('div', { className: 'consult-section' },
          isActive
            ? React.createElement(React.Fragment, null,
                React.createElement('p', null, `Type: ${type.toUpperCase()}`),
                React.createElement('button', { onClick: startSession }, `Start ${type.toUpperCase()} Session`)
              )
            : React.createElement('p', null, 'No active consultations currently.')
        )
      );
    }

    function PaymentsPage() {
      const [cardName, setCardName] = useState('');
      const [cardNumber, setCardNumber] = useState('');
      const [paid, setPaid] = useState(false);

      const handlePay = (ev) => {
        ev.preventDefault();
        // TODO: integrate with real payment API
        setPaid(true);
      };

      return React.createElement('div', { className: 'page' },
        React.createElement('h2', null, 'Payment'),
        React.createElement('form', { className: 'payment-section', onSubmit: handlePay },
          React.createElement('label', null, 'Cardholder Name:'),
          React.createElement('input', { type: 'text', value: cardName, onChange: (e)=>setCardName(e.target.value), required: true }),
          React.createElement('label', null, 'Card Number:'),
          React.createElement('input', {
            type: 'text',
            value: cardNumber,
            onChange: (e)=>setCardNumber(e.target.value),
            required: true,
            maxLength: 16
          }),
          React.createElement('button', { type: 'submit' }, paid ? 'Paid' : 'Pay Now'),
          paid && React.createElement('div', { className: 'message' }, 'Payment successful!')
        )
      );
    }

    function SettingsPage() {
      const [hospitalName, setHospitalName] = useState('');
      const [timeZone, setTimeZone] = useState('');
      const [notificationEmail, setNotificationEmail] = useState('');
      const [saved, setSaved] = useState(false);

      useEffect(() => {
        // TODO: fetch existing settings from backend, e.g.:
        // fetch('/api/settings').then(res => res.json()).then(data => { setHospitalName(...); setTimeZone(...); setNotificationEmail(...); });
        // For demo, we simulate default values:
        setHospitalName('My Clinic');
        setTimeZone('Asia/Kolkata');
        setNotificationEmail('admin@clinic.com');
      }, []);

      const handleSave = (ev) => {
        ev.preventDefault();
        // TODO: send settings to backend
        // e.g. POST /api/settings { hospitalName, timeZone, notificationEmail }
        setSaved(true);
        setTimeout(() => setSaved(false), 2000);
      };

      return React.createElement('div', { className: 'page' },
        React.createElement('h2', null, 'System Settings'),
        React.createElement('form', { className: 'settings-form', onSubmit: handleSave },
          React.createElement('label', null, 'Hospital / Clinic Name:'),
          React.createElement('input', {
            type: 'text',
            value: hospitalName,
            onChange: (e) => setHospitalName(e.target.value),
            required: true
          }),
          React.createElement('label', null, 'Time Zone:'),
          React.createElement('select', {
            value: timeZone,
            onChange: (e) => setTimeZone(e.target.value),
            required: true
          },
            React.createElement('option', { value: '' }, '--Select Time Zone--'),
            React.createElement('option', { value: 'Asia/Kolkata' }, 'India / Kolkata'),
            React.createElement('option', { value: 'UTC' }, 'UTC'),
            React.createElement('option', { value: 'America/New_York' }, 'New York / US Eastern')
          ),
          React.createElement('label', null, 'Notification Email:'),
          React.createElement('input', {
            type: 'email',
            value: notificationEmail,
            onChange: (e) => setNotificationEmail(e.target.value),
            required: true
          }),
          React.createElement('button', { type: 'submit' }, 'Save Settings'),
          saved && React.createElement('div', { className: 'message' }, 'Settings saved!')
        )
      );
    }

    function App() {
      return React.createElement(BrowserRouter, null,
        React.createElement('div', { className: 'app-container' },
          React.createElement(Sidebar),
          React.createElement('div', { className: 'main-content' },
            React.createElement(Header),
            React.createElement('div', { className: 'content-area' },
              React.createElement(Routes, null,
                React.createElement(Route, { path: "/", element: React.createElement(Navigate, { to: "/dashboard" }) }),
                React.createElement(Route, { path: "/dashboard", element: React.createElement(DashboardPage) }),
                React.createElement(Route, { path: "/booking", element: React.createElement(BookingPage) }),
                React.createElement(Route, { path: "/consultation", element: React.createElement(ConsultationPage) }),
                React.createElement(Route, { path: "/payments", element: React.createElement(PaymentsPage) }),
                React.createElement(Route, { path: "/settings", element: React.createElement(SettingsPage) })
              )
            )
          )
        )
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
  </script>
</body>
</html>
